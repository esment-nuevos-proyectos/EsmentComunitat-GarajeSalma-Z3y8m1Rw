<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Garaje Salma · Business Model Canvas (Multifiltro)</title>

  <meta name="robots" content="noindex, nofollow"/>
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet"/>

  <style>
    /* ============================================================
       VARIABLES DE COLOR (NUEVA NOMENCLATURA)
       ============================================================ */
    :root {
      --bg: #f4f5f7;
      --ink: #172b4d;
      --muted: #5e6c84;
      
      /* 1. FORMACIÓN (Antes Cantera) - Rojo */
      --c-formacion: #ff5630;    
      --c-formacion-bg: #ffece6;
      
      /* 2. PRODUCTOS PROPIOS (Antes Vida) - Amarillo */
      --c-propios: #ffab00;       
      --c-propios-bg: #fff7d6;
      
      /* 3. PRODUCTOS A MEDIDA (Antes Lab) - Azul */
      --c-medida: #0065ff;        
      --c-medida-bg: #deebff;
      
      /* 4. CONSULTORÍA (Antes Consulting) - Violeta */
      --c-consultoria: #6554c0; 
      --c-consultoria-bg: #eae6ff;
      
      /* 5. ESPACIO (Igual) - Verde */
      --c-espacio: #36b37e;    
      --c-espacio-bg: #e6fcff;
      
      /* Estructural */
      --card-bg: #ffffff;
      --border: #dfe1e6;
    }

    * { box-sizing: border-box; }
    
    body {
      margin: 0; 
      background: var(--bg); 
      color: var(--ink);
      font-family: 'Montserrat', sans-serif;
      padding-bottom: 80px;
    }

    /* ============================================================
       CABECERA
       ============================================================ */
    header {
      background: #fff;
      padding: 30px 20px 10px;
      border-bottom: 1px solid var(--border);
      margin-bottom: 40px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.02);
    }

    .header-content {
      max-width: 1600px;
      margin: 0 auto;
      text-align: center;
    }

    h1 { margin: 0 0 8px; font-size: 2.2rem; font-weight: 800; color: var(--ink); }
    .sub { color: var(--muted); margin: 0 0 24px; font-size: 1rem; }

    /* ============================================================
       LEYENDA INTERACTIVA (MULTIFILTRO)
       ============================================================ */
    .legend-container {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 12px;
      padding-bottom: 20px;
    }

    .filter-btn {
      border: 2px solid transparent;
      background: #f4f5f7;
      padding: 8px 16px;
      border-radius: 20px;
      cursor: pointer;
      font-weight: 600;
      font-size: 0.85rem;
      color: var(--muted);
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s ease;
      user-select: none;
    }

    .filter-btn:hover { background: #ebecf0; color: var(--ink); transform: translateY(-1px); }
    
    /* Estado activo (seleccionado) */
    .filter-btn.active {
      background: #fff;
      border-color: currentColor; /* Toma el color del texto/borde definido inline */
      color: var(--ink);
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }

    /* Botón "Todo" especial */
    .filter-btn[data-category="all"].active {
      border-color: var(--ink);
      background: var(--ink);
      color: #fff;
    }

    .dot { width: 10px; height: 10px; border-radius: 50%; display: inline-block; }

    /* ============================================================
       GRID DEL MODELO CANVAS
       ============================================================ */
    .bmc-container { max-width: 1600px; margin: 0 auto; padding: 0 20px; }

    .bmc-grid {
      display: grid;
      gap: 16px;
      grid-template-columns: repeat(5, 1fr); 
      grid-template-areas:
        "partners activities value relationships segments"
        "partners resources  value channels      segments"
        "costs    costs      costs revenues      revenues";
    }

    .cell {
      background: #ebecf0; 
      border-radius: 8px;
      display: flex;
      flex-direction: column;
      min-height: 240px;
    }
    
    .partners { grid-area: partners; }
    .activities { grid-area: activities; }
    .resources { grid-area: resources; }
    .value { grid-area: value; }
    .relationships { grid-area: relationships; }
    .segments { grid-area: segments; }
    .channels { grid-area: channels; }
    .costs { grid-area: costs; }
    .revenues { grid-area: revenues; }

    .cell-header {
      padding: 12px 16px;
      font-size: 0.8rem;
      font-weight: 700;
      text-transform: uppercase;
      color: var(--muted);
      letter-spacing: 0.5px;
    }

    .cell-body {
      padding: 0 8px 8px 8px;
      display: flex;
      flex-direction: column;
      gap: 8px;
      flex-grow: 1;
    }

    /* ============================================================
       TARJETAS DE DATOS (CARDS)
       ============================================================ */
    .card {
      background: var(--card-bg);
      padding: 12px;
      border-radius: 6px;
      box-shadow: 0 1px 2px rgba(9, 30, 66, 0.25);
      font-size: 0.85rem;
      color: var(--ink);
      display: flex;
      flex-direction: column;
      gap: 8px;
      transition: opacity 0.3s ease, transform 0.3s ease;
      border-left: 3px solid transparent; 
    }

    .card.hidden {
      display: none;
    }

    .card strong {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 2px;
      color: #091e42;
    }

    /* Etiquetas (Tags) dentro de las tarjetas */
    .tags {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-top: auto; /* Empuja los tags al final si la tarjeta crece */
    }

    .tag {
      font-size: 0.65rem;
      font-weight: 700;
      padding: 2px 6px;
      border-radius: 3px;
      text-transform: uppercase;
    }

    /* Colores de las etiquetas */
    .tag.formacion { background: var(--c-formacion-bg); color: var(--c-formacion); }
    .tag.propios { background: var(--c-propios-bg); color: #b67900; } 
    .tag.medida { background: var(--c-medida-bg); color: var(--c-medida); }
    .tag.consultoria { background: var(--c-consultoria-bg); color: var(--c-consultoria); }
    .tag.espacio { background: var(--c-espacio-bg); color: #216e4e; } 

    /* ============================================================
       RESPONSIVE
       ============================================================ */
    @media (max-width: 1200px) {
      .bmc-grid {
        grid-template-columns: 1fr 1fr;
        grid-template-areas: 
          "value value"
          "segments relationships"
          "channels activities"
          "partners resources"
          "costs revenues";
      }
    }

    @media (max-width: 650px) {
      .bmc-grid {
        display: flex;
        flex-direction: column;
      }
      .legend-container {
        justify-content: flex-start;
        overflow-x: auto;
        padding-bottom: 10px;
      }
    }
  </style>
</head>
<body>

  <header>
    <div class="header-content">
      <h1>Garaje Salma</h1>
      <p class="sub">Modelo de Negocio Integral</p>
      
      <div class="legend-container">
        <button class="filter-btn active" data-category="all" onclick="toggleFilter('all')">
          Todo el Proyecto
        </button>
        
        <button class="filter-btn" data-category="formacion" onclick="toggleFilter('formacion')" style="color: var(--c-formacion)">
          <span class="dot" style="background:var(--c-formacion)"></span> Formación
        </button>
        
        <!-- Corrección aplicada aquí: var(--c-propios) -->
        <button class="filter-btn" data-category="propios" onclick="toggleFilter('propios')" style="color: #d97706">
          <span class="dot" style="background:var(--c-propios)"></span> Productos propios
        </button>
        
        <!-- Corrección aplicada aquí: var(--c-medida) -->
        <button class="filter-btn" data-category="medida" onclick="toggleFilter('medida')" style="color: var(--c-medida)">
          <span class="dot" style="background:var(--c-medida)"></span> Productos a medida
        </button>
        
        <button class="filter-btn" data-category="consultoria" onclick="toggleFilter('consultoria')" style="color: var(--c-consultoria)">
          <span class="dot" style="background:var(--c-consultoria)"></span> Consultoría
        </button>
        
        <button class="filter-btn" data-category="espacio" onclick="toggleFilter('espacio')" style="color: var(--c-espacio)">
          <span class="dot" style="background:var(--c-espacio)"></span> Espacio
        </button>
      </div>
      <div style="font-size: 0.8rem; color: var(--muted); margin-top:5px;">
        * Puedes seleccionar múltiples filtros a la vez
      </div>
    </div>
  </header>

  <div class="bmc-container">
    <div class="bmc-grid">

      <!-- 1. SOCIOS CLAVE -->
      <div class="cell partners">
        <div class="cell-header">Socios Clave</div>
        <div class="cell-body">
          <div class="card" data-cats="formacion">
            <strong>Red Educativa y Laboral</strong>
            Convenios con Escuelas FP, SOIB y Servicios de Empleo.
            <div class="tags"><span class="tag formacion">Formación</span></div>
          </div>
          
          <div class="card" data-cats="medida propios">
            <strong>Ortopedias Locales</strong>
            Partners para licencia de fabricante y canales de distribución.
            <div class="tags"><span class="tag medida">Medida</span><span class="tag propios">Propios</span></div>
          </div>

          <div class="card" data-cats="medida espacio consultoria">
            <strong>Partners Tecnológicos</strong>
            Universidades, Grupos de investigación y empresas tech para I+D.
            <div class="tags"><span class="tag medida">Medida</span><span class="tag espacio">Espacio</span><span class="tag consultoria">Consultoría</span></div>
          </div>

          <div class="card" data-cats="consultoria">
            <strong>Red 3º Sector</strong>
            Alianzas con ONGs para licitaciones conjuntas.
            <div class="tags"><span class="tag consultoria">Consultoría</span></div>
          </div>

           <div class="card" data-cats="espacio">
            <strong>Tejido Vecinal</strong>
            Asociaciones de barrio para dinamización.
            <div class="tags"><span class="tag espacio">Espacio</span></div>
          </div>
        </div>
      </div>

      <!-- 2. ACTIVIDADES CLAVE -->
      <div class="cell activities">
        <div class="cell-header">Actividades Clave</div>
        <div class="cell-body">
          <div class="card" data-cats="formacion">
            <strong>"Aprender Haciendo"</strong>
            Formación práctica en taller real.
            <div class="tags"><span class="tag formacion">Formación</span></div>
          </div>

          <div class="card" data-cats="propios formacion">
            <strong>I+D+i de Producto</strong>
            Diseño y prototipado de nuevas colecciones por hornadas.
            <div class="tags"><span class="tag propios">Propios</span><span class="tag formacion">Formación</span></div>
          </div>

          <div class="card" data-cats="medida">
            <strong>Ingeniería Inversa</strong>
            Escaneo 3D y adaptación personalizada.
            <div class="tags"><span class="tag medida">Medida</span></div>
          </div>

          <div class="card" data-cats="espacio">
            <strong>Talleres Maker & Extraescolares</strong>
            Formación no reglada para niños y profesionales.
            <div class="tags"><span class="tag espacio">Espacio</span></div>
          </div>

          <div class="card" data-cats="consultoria">
            <strong>Auditorías</strong>
            Análisis de accesibilidad y procesos digitales.
            <div class="tags"><span class="tag consultoria">Consultoría</span></div>
          </div>
        </div>
      </div>

      <!-- 3. RECURSOS CLAVE -->
      <div class="cell resources">
        <div class="cell-header">Recursos Clave</div>
        <div class="cell-body">
          <div class="card" data-cats="formacion propios medida espacio">
            <strong>El Taller (Hardware)</strong>
            Granja de impresoras 3D, cortadoras láser y electrónica.
            <div class="tags"><span class="tag formacion">Formación</span><span class="tag propios">Propios</span><span class="tag medida">Medida</span><span class="tag espacio">Espacio</span></div>
          </div>

          <div class="card" data-cats="formacion consultoria">
            <strong>Equipo Humano</strong>
            Técnicos Mentores y Alumnos (fuerza productiva).
            <div class="tags"><span class="tag formacion">Formación</span><span class="tag consultoria">Consultoría</span></div>
          </div>

          <div class="card" data-cats="consultoria medida">
            <strong>Know-How</strong>
            Metodología propia de accesibilidad y diseño social.
            <div class="tags"><span class="tag consultoria">Consultoría</span><span class="tag medida">Medida</span></div>
          </div>

          <div class="card" data-cats="espacio">
            <strong>El Edificio</strong>
            Aulas polivalentes y Sala Audiovisual insonorizada.
            <div class="tags"><span class="tag espacio">Espacio</span></div>
          </div>
        </div>
      </div>

      <!-- 4. PROPUESTA DE VALOR -->
      <div class="cell value">
        <div class="cell-header">Propuesta de Valor</div>
        <div class="cell-body">
          <div class="card" data-cats="formacion">
            <strong>Oportunidad Real</strong>
            Inserción sociolaboral mediante tecnología puntera.
            <div class="tags"><span class="tag formacion">Formación</span></div>
          </div>

          <div class="card" data-cats="propios">
            <strong>Tecnología "Buena Vida"</strong>
            Objetos bellos, funcionales y no estigmatizantes.
            <div class="tags"><span class="tag propios">Propios</span></div>
          </div>

          <div class="card" data-cats="medida">
            <strong>Empatía Técnica</strong>
            Ingeniería para resolver necesidades únicas.
            <div class="tags"><span class="tag medida">Medida</span></div>
          </div>

          <div class="card" data-cats="consultoria">
            <strong>Transformación con Valores</strong>
            Digitalización e IA poniendo a las personas en el centro.
            <div class="tags"><span class="tag consultoria">Consultoría</span></div>
          </div>

          <div class="card" data-cats="espacio">
            <strong>Hub de Barrio</strong>
            Punto de encuentro para reducir la brecha digital.
            <div class="tags"><span class="tag espacio">Espacio</span></div>
          </div>
        </div>
      </div>

      <!-- 5. RELACIONES CON CLIENTES -->
      <div class="cell relationships">
        <div class="cell-header">Relaciones</div>
        <div class="cell-body">
          <div class="card" data-cats="medida">
            <strong>Co-creación</strong>
            Diseño participativo mano a mano con el usuario final.
            <div class="tags"><span class="tag medida">Medida</span></div>
          </div>

          <div class="card" data-cats="propios">
            <strong>Marca Ética</strong>
            Relación basada en valores, diseño y sostenibilidad.
            <div class="tags"><span class="tag propios">Propios</span></div>
          </div>

          <div class="card" data-cats="espacio formacion">
            <strong>Pertenencia</strong>
            Creación de comunidad, club maker y orgullo de alumno.
            <div class="tags"><span class="tag espacio">Espacio</span><span class="tag formacion">Formación</span></div>
          </div>

          <div class="card" data-cats="consultoria">
            <strong>Partner Experto</strong>
            Confianza profesional B2B a largo plazo.
            <div class="tags"><span class="tag consultoria">Consultoría</span></div>
          </div>
        </div>
      </div>

      <!-- 6. CANALES -->
      <div class="cell channels">
        <div class="cell-header">Canales</div>
        <div class="cell-body">
          <div class="card" data-cats="propios">
            <strong>Tienda Online</strong>
            E-commerce para venta directa B2C.
            <div class="tags"><span class="tag propios">Propios</span></div>
          </div>

          <div class="card" data-cats="propios espacio">
            <strong>Garaje Físico (Showroom)</strong>
            Espacio de venta, formación y punto de recogida.
            <div class="tags"><span class="tag propios">Propios</span><span class="tag espacio">Espacio</span></div>
          </div>

          <div class="card" data-cats="medida">
            <strong>Derivación Interna Esment</strong>
            Flujo desde otros departamentos y Servicios Sociales.
            <div class="tags"><span class="tag medida">Medida</span></div>
          </div>
          
          <div class="card" data-cats="formacion">
            <strong>Red de Orientación</strong>
            Contacto directo con tutores de centros educativos.
            <div class="tags"><span class="tag formacion">Formación</span></div>
          </div>

          <div class="card" data-cats="consultoria">
            <strong>Licitaciones</strong>
            Concursos públicos y eventos del sector.
            <div class="tags"><span class="tag consultoria">Consultoría</span></div>
          </div>
        </div>
      </div>

      <!-- 7. SEGMENTOS DE CLIENTES -->
      <div class="cell segments">
        <div class="cell-header">Segmentos</div>
        <div class="cell-body">
          <div class="card" data-cats="formacion">
            <strong>Alumnos Formación Dual Adaptada</strong>
            Personas con discapacidad intelectual y TEA.
            <div class="tags"><span class="tag formacion">Formación</span></div>
          </div>

          <div class="card" data-cats="propios">
            <strong>Personas con Necesidades de Apoyo</strong>
            Mayores o dependientes que valoran estética y funcionalidad.
            <div class="tags"><span class="tag propios">Propios</span></div>
          </div>

          <div class="card" data-cats="medida">
            <strong>Personas con Diversidad Funcional</strong>
            Necesidades físicas o cognitivas específicas (Salma Care).
            <div class="tags"><span class="tag medida">Medida</span></div>
          </div>

          <div class="card" data-cats="medida espacio">
            <strong>Empresas</strong>
            Merchandising, Eventos corporativos y RSC.
            <div class="tags"><span class="tag medida">Medida</span><span class="tag espacio">Espacio</span></div>
          </div>

          <div class="card" data-cats="consultoria">
            <strong>Entidades Sociales</strong>
            ONGs, Residencias y Fundaciones.
            <div class="tags"><span class="tag consultoria">Consultoría</span></div>
          </div>

          <div class="card" data-cats="espacio">
            <strong>Vecinos y Makers</strong>
            Familias del barrio y entusiastas de la tecnología.
            <div class="tags"><span class="tag espacio">Espacio</span></div>
          </div>
        </div>
      </div>

      <!-- 8. ESTRUCTURA DE COSTES -->
      <div class="cell costs">
        <div class="cell-header">Estructura de Costes</div>
        <div class="cell-body" style="flex-direction: row; flex-wrap: wrap;">
          <div class="card" data-cats="formacion" style="flex: 1 1 45%">
            <strong>Personal Mentor</strong>
            Nóminas equipo técnico.
            <div class="tags"><span class="tag formacion">Formación</span></div>
          </div>
          <div class="card" data-cats="formacion propios medida espacio" style="flex: 1 1 45%">
            <strong>Amortización</strong>
            Maquinaria e instalaciones.
            <div class="tags"><span class="tag formacion">Formación</span><span class="tag propios">Propios</span><span class="tag medida">Medida</span></div>
          </div>
          <div class="card" data-cats="propios medida" style="flex: 1 1 45%">
            <strong>Materiales</strong>
            Filamentos y electrónica.
            <div class="tags"><span class="tag propios">Propios</span><span class="tag medida">Medida</span></div>
          </div>
           <div class="card" data-cats="espacio" style="flex: 1 1 45%">
            <strong>Suministros</strong>
            Luz, agua, limpieza.
            <div class="tags"><span class="tag espacio">Espacio</span></div>
          </div>
          <div class="card" data-cats="consultoria" style="flex: 1 1 45%">
            <strong>Hora Consultor</strong>
            Coste intelectual.
            <div class="tags"><span class="tag consultoria">Consultoría</span></div>
          </div>
        </div>
      </div>

      <!-- 9. FUENTES DE INGRESOS -->
      <div class="cell revenues">
        <div class="cell-header">Fuentes de Ingresos</div>
        <div class="cell-body" style="flex-direction: row; flex-wrap: wrap;">
          <div class="card" data-cats="formacion" style="flex: 1 1 45%">
            <strong>Subvenciones</strong>
            Conciertos educativos.
            <div class="tags"><span class="tag formacion">Formación</span></div>
          </div>
          <div class="card" data-cats="propios" style="flex: 1 1 45%">
            <strong>Venta Producto</strong>
            Margen comercial (PVP).
            <div class="tags"><span class="tag propios">Propios</span></div>
          </div>
          <div class="card" data-cats="medida consultoria" style="flex: 1 1 45%">
            <strong>Servicios (Horas)</strong>
            Facturación por proyecto.
            <div class="tags"><span class="tag medida">Medida</span><span class="tag consultoria">Consultoría</span></div>
          </div>
          <div class="card" data-cats="espacio" style="flex: 1 1 45%">
            <strong>Cuotas y Alquiler</strong>
            Talleres y uso de salas.
            <div class="tags"><span class="tag espacio">Espacio</span></div>
          </div>
        </div>
      </div>

    </div>
  </div>

  <footer>
    <p><strong>Garaje Salma</strong> · Innovación Social y Tecnológica</p>
  </footer>

  <script>
    // Estado de los filtros
    const activeFilters = new Set(['all']);

    function toggleFilter(category) {
      // Lógica de selección múltiple
      if (category === 'all') {
        // Si se pulsa "Todo", borramos el resto y solo dejamos "all"
        activeFilters.clear();
        activeFilters.add('all');
      } else {
        // Si se pulsa una categoría específica
        if (activeFilters.has('all')) {
          activeFilters.delete('all'); // Quitamos "all" si estaba
        }

        if (activeFilters.has(category)) {
          activeFilters.delete(category); // Si ya estaba, la quitamos (toggle off)
        } else {
          activeFilters.add(category); // Si no estaba, la añadimos (toggle on)
        }

        // Si no queda ninguna seleccionada, volvemos a "all" por defecto
        if (activeFilters.size === 0) {
          activeFilters.add('all');
        }
      }

      renderFilters();
    }

    function renderFilters() {
      // 1. Actualizar visualmente los botones
      const buttons = document.querySelectorAll('.filter-btn');
      buttons.forEach(btn => {
        const cat = btn.getAttribute('data-category');
        if (activeFilters.has(cat)) {
          btn.classList.add('active');
        } else {
          btn.classList.remove('active');
        }
      });

      // 2. Filtrar las tarjetas
      const cards = document.querySelectorAll('.card');
      cards.forEach(card => {
        // Si está activo 'all', mostramos todo
        if (activeFilters.has('all')) {
          card.style.display = 'flex';
          setTimeout(() => card.style.opacity = '1', 50);
          return;
        }

        // Obtenemos las categorías de la tarjeta (string "cat1 cat2")
        const cardCats = card.getAttribute('data-cats').split(' ');
        
        // Comprobamos si ALGUNA de las categorías de la tarjeta está en los filtros activos
        // (Lógica OR: mostrar si cumple al menos uno)
        const isVisible = cardCats.some(cat => activeFilters.has(cat));

        if (isVisible) {
          card.style.display = 'flex';
          setTimeout(() => card.style.opacity = '1', 50);
        } else {
          card.style.display = 'none';
          card.style.opacity = '0';
        }
      });
    }
  </script>

</body>
</html>
